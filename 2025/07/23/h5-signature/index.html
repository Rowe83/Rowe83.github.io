<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>h5电子签名 | Rowe's Blog</title><meta name="author" content="Rowe"><meta name="copyright" content="Rowe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="h5如何实现电子签名 使用 HTML5 实现电子签名功能主要依赖 Canvas API 来捕获用户的手写签名，并结合触摸事件（touchstart、touchmove、touchend）或鼠标事件（mousedown、mousemove、mouseup）支持移动端和桌面端。签名结果可以保存为图片（如 PNG）。以下是实现方法  实现方法核心技术 Canvas API： 使用 &lt;canvas&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="h5电子签名">
<meta property="og:url" content="https://rowe83.github.io/2025/07/23/h5-signature/index.html">
<meta property="og:site_name" content="Rowe&#39;s Blog">
<meta property="og:description" content="h5如何实现电子签名 使用 HTML5 实现电子签名功能主要依赖 Canvas API 来捕获用户的手写签名，并结合触摸事件（touchstart、touchmove、touchend）或鼠标事件（mousedown、mousemove、mouseup）支持移动端和桌面端。签名结果可以保存为图片（如 PNG）。以下是实现方法  实现方法核心技术 Canvas API： 使用 &lt;canvas&amp;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://rowe83.github.io/image/avatar.png">
<meta property="article:published_time" content="2025-07-23T09:36:20.399Z">
<meta property="article:modified_time" content="2025-07-23T09:57:24.409Z">
<meta property="article:author" content="Rowe">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="HTML">
<meta property="article:tag" content="canvas">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://rowe83.github.io/image/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "h5电子签名",
  "url": "https://rowe83.github.io/2025/07/23/h5-signature/",
  "image": "https://rowe83.github.io/image/avatar.png",
  "datePublished": "2025-07-23T09:36:20.399Z",
  "dateModified": "2025-07-23T09:57:24.409Z",
  "author": [
    {
      "@type": "Person",
      "name": "Rowe",
      "url": "https://rowe83.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/image/favicon.png"><link rel="canonical" href="https://rowe83.github.io/2025/07/23/h5-signature/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ee1fd8f11e11d61318575315144e1c9a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'h5电子签名',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/image/banner2.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Rowe's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">h5电子签名</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">h5电子签名</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-23T09:36:20.399Z" title="Created 2025-07-23 17:36:20">2025-07-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-07-23T09:57:24.409Z" title="Updated 2025-07-23 17:57:24">2025-07-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/web%E5%89%8D%E7%AB%AF/">web前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h3 id="h5如何实现电子签名"><a href="#h5如何实现电子签名" class="headerlink" title="h5如何实现电子签名"></a><strong>h5如何实现电子签名</strong></h3><hr>
<p>使用 HTML5 实现电子签名功能主要依赖 <strong>Canvas API</strong> 来捕获用户的手写签名，并结合触摸事件（<code>touchstart</code>、<code>touchmove</code>、<code>touchend</code>）或鼠标事件（<code>mousedown</code>、<code>mousemove</code>、<code>mouseup</code>）支持移动端和桌面端。签名结果可以保存为图片（如 PNG）。以下是实现方法</p>
<hr>
<h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a><strong>实现方法</strong></h3><h4 id="核心技术"><a href="#核心技术" class="headerlink" title="核心技术"></a><strong>核心技术</strong></h4><ol>
<li><strong>Canvas API</strong>：<ul>
<li>使用 <code>&lt;canvas&gt;</code> 绘制用户手写签名。</li>
<li>方法如 <code>beginPath</code>、<code>moveTo</code>、<code>lineTo</code>、<code>stroke</code> 实现动态描边。</li>
</ul>
</li>
<li><strong>触摸&#x2F;鼠标事件</strong>：<ul>
<li>捕获用户输入（触摸或鼠标轨迹），支持移动端和桌面端。</li>
<li>触摸事件（<code>touchstart</code> 等）适配移动端。</li>
</ul>
</li>
<li><strong>HTML5 元素</strong>：<ul>
<li><code>&lt;canvas&gt;</code>：绘制签名。</li>
<li><code>&lt;button&gt;</code>：触发保存、清除等操作。</li>
<li><code>&lt;a&gt;</code>：下载签名图片。</li>
</ul>
</li>
<li><strong>File API</strong>：<ul>
<li>使用 <code>canvas.toDataURL()</code> 生成图片，<code>Blob</code> 保存文件。</li>
</ul>
</li>
</ol>
<h4 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a><strong>步骤</strong></h4><ol>
<li>创建 HTML 结构，包含 <code>&lt;canvas&gt;</code> 和控制按钮。</li>
<li>使用 JavaScript 监听触摸&#x2F;鼠标事件，在 <code>&lt;canvas&gt;</code> 上绘制。</li>
<li>提供保存（下载或上传）、清除功能。</li>
<li>确保可访问性和性能优化。</li>
</ol>
<hr>
<h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a><strong>代码示例</strong></h3><p>以下是一个完整的 HTML5 电子签名实现，支持移动端和桌面端。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5 电子签名<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-family</span>: Arial, sans-serif;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="number">#f5f5f5</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0078D7</span>; <span class="comment">/* Windows Phone 风格边框 */</span></span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">max-width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">touch-action</span>: none; <span class="comment">/* 禁用触摸默认行为 */</span></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">button</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: none;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="number">#0078D7</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">button</span><span class="selector-pseudo">:disabled</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: not-allowed;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">600px</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.container</span> &#123; <span class="attribute">width</span>: <span class="number">90%</span>; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">canvas</span> &#123; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">height</span>: <span class="number">200px</span>; &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">role</span>=<span class="string">&quot;region&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;电子签名工具&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>电子签名<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;signatureCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;签名区域&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;clearBtn&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;清除签名&quot;</span>&gt;</span>清除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;saveBtn&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;保存签名&quot;</span>&gt;</span>保存<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#signatureCanvas&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> clearBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#clearBtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> saveBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#saveBtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> isDrawing = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> lastX = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> lastY = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 初始化画布</span></span></span><br><span class="line"><span class="language-javascript">    ctx.<span class="property">strokeStyle</span> = <span class="string">&#x27;#000&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    ctx.<span class="property">lineWidth</span> = <span class="number">2</span>;</span></span><br><span class="line"><span class="language-javascript">    ctx.<span class="property">lineCap</span> = <span class="string">&#x27;round&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 坐标转换（考虑触摸/鼠标事件）</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">getCoordinates</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> rect = canvas.<span class="title function_">getBoundingClientRect</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> clientX = e.<span class="property">touches</span> ? e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span> : e.<span class="property">clientX</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> clientY = e.<span class="property">touches</span> ? e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientY</span> : e.<span class="property">clientY</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">x</span>: clientX - rect.<span class="property">left</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">y</span>: clientY - rect.<span class="property">top</span></span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 开始绘制</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">startDrawing</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">      isDrawing = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> &#123; x, y &#125; = <span class="title function_">getCoordinates</span>(e);</span></span><br><span class="line"><span class="language-javascript">      lastX = x;</span></span><br><span class="line"><span class="language-javascript">      lastY = y;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 绘制中</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (!isDrawing) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">      e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> &#123; x, y &#125; = <span class="title function_">getCoordinates</span>(e);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">moveTo</span>(lastX, lastY);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">lineTo</span>(x, y);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">stroke</span>();</span></span><br><span class="line"><span class="language-javascript">      lastX = x;</span></span><br><span class="line"><span class="language-javascript">      lastY = y;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 停止绘制</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">stopDrawing</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      isDrawing = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 绑定事件</span></span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousedown&#x27;</span>, startDrawing);</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, draw);</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>, stopDrawing);</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseout&#x27;</span>, stopDrawing);</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchstart&#x27;</span>, startDrawing);</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchmove&#x27;</span>, draw);</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchend&#x27;</span>, stopDrawing);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 清除画布</span></span></span><br><span class="line"><span class="language-javascript">    clearBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 保存签名</span></span></span><br><span class="line"><span class="language-javascript">    saveBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> dataURL = canvas.<span class="title function_">toDataURL</span>(<span class="string">&#x27;image/png&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      a.<span class="property">href</span> = dataURL;</span></span><br><span class="line"><span class="language-javascript">      a.<span class="property">download</span> = <span class="string">`signature-<span class="subst">$&#123;<span class="built_in">Date</span>.now()&#125;</span>.png`</span>;</span></span><br><span class="line"><span class="language-javascript">      a.<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 键盘支持</span></span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keydown&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;Enter&#x27;</span> || e.<span class="property">key</span> === <span class="string">&#x27; &#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">beginPath</span>(); <span class="comment">// 模拟绘制起点</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;Escape&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>); <span class="comment">// 清除</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>运行流程</strong>：</p>
<ol>
<li>用户在 <code>&lt;canvas&gt;</code> 上手写或鼠标绘制签名。</li>
<li>点击“清除”重置画布。</li>
<li>点击“保存”下载签名图片。</li>
</ol>
<hr>
<h3 id="高级功能（可选）"><a href="#高级功能（可选）" class="headerlink" title="高级功能（可选）"></a><strong>高级功能（可选）</strong></h3><ol>
<li><strong>调整画笔样式</strong>：<ul>
<li>添加颜色&#x2F;粗细选择：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;colorSelect&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;选择画笔颜色&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;#000&quot;</span>&gt;</span>黑色<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;#FF0000&quot;</span>&gt;</span>红色<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">colorSelect.<span class="title function_">addEventListener</span>(<span class="string">&#x27;change&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ctx.<span class="property">strokeStyle</span> = colorSelect.<span class="property">value</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>保存到本地（File System Access API）</strong>：<ul>
<li>使用 <code>showSaveFilePicker</code>：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">saveBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> dataURL = canvas.<span class="title function_">toDataURL</span>(<span class="string">&#x27;image/png&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> blob = <span class="title function_">await</span> (<span class="keyword">await</span> <span class="title function_">fetch</span>(dataURL)).<span class="title function_">blob</span>();</span><br><span class="line">  <span class="keyword">const</span> handle = <span class="keyword">await</span> <span class="variable language_">window</span>.<span class="title function_">showSaveFilePicker</span>(&#123; <span class="attr">suggestedName</span>: <span class="string">&#x27;signature.png&#x27;</span> &#125;);</span><br><span class="line">  <span class="keyword">const</span> writable = <span class="keyword">await</span> handle.<span class="title function_">createWritable</span>();</span><br><span class="line">  <span class="keyword">await</span> writable.<span class="title function_">write</span>(blob);</span><br><span class="line">  <span class="keyword">await</span> writable.<span class="title function_">close</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<em>注</em>：仅 Chrome&#x2F;Edge 支持，需降级处理。</li>
</ul>
</li>
<li><strong>实时预览</strong>：<ul>
<li>显示签名缩略图：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;preview&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;签名预览&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 100px;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">canvas.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  preview.<span class="property">src</span> = canvas.<span class="title function_">toDataURL</span>(<span class="string">&#x27;image/png&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>撤销功能</strong>：<ul>
<li>记录绘制路径，支持撤销：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> paths = [];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!isDrawing) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">const</span> &#123; x, y &#125; = <span class="title function_">getCoordinates</span>(e);</span><br><span class="line">  paths.<span class="title function_">push</span>([lastX, lastY, x, y]);</span><br><span class="line">  ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">  ctx.<span class="title function_">moveTo</span>(lastX, lastY);</span><br><span class="line">  ctx.<span class="title function_">lineTo</span>(x, y);</span><br><span class="line">  ctx.<span class="title function_">stroke</span>();</span><br><span class="line">  lastX = x;</span><br><span class="line">  lastY = y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#undoBtn&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  paths.<span class="title function_">pop</span>();</span><br><span class="line">  ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span><br><span class="line">  paths.<span class="title function_">forEach</span>(<span class="function">(<span class="params">[x1, y1, x2, y2]</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">    ctx.<span class="title function_">moveTo</span>(x1, y1);</span><br><span class="line">    ctx.<span class="title function_">lineTo</span>(x2, y2);</span><br><span class="line">    ctx.<span class="title function_">stroke</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://rowe83.github.io">Rowe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://rowe83.github.io/2025/07/23/h5-signature/">https://rowe83.github.io/2025/07/23/h5-signature/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/HTML/">HTML</a><a class="post-meta__tags" href="/tags/canvas/">canvas</a></div><div class="post-share"><div class="social-share" data-image="/image/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/07/16/performance-paint-timing/" title="如何计算首屏和白屏时间"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">如何计算首屏和白屏时间</div></div><div class="info-2"><div class="info-item-1">如何计算首屏和白屏时间 计算首屏时间和白屏时间是评估网页性能的重要指标，特别是在使用 HTML5 开发网站时。这些指标反映了用户感知的页面加载速度，直接影响用户体验和 SEO。以下是详细的定义、计算方法、优化建议，以及结合 HTML5 特性的实现方案。 1. 定义 白屏时间（White Screen Time）： 指从用户开始访问页面（浏览器发起请求）到页面开始显示内容（通常是 DOM 结构开始渲染）的时间。 用户看到的是“白屏”，即页面还未渲染出任何内容。 通常与解析 HTML 和加载关键 CSS 的时间相关。   首屏时间（First Screen Time）： 指从用户开始访问页面到页面首屏内容（通常是视口内可见内容）完全渲染的时间。 首屏内容可能包括文字、图片或关键组件。 涉及 HTML 解析、CSS 渲染、关键资源加载（如图片、字体）和 JavaScript 执行。    2. 计算方法计算白屏时间和首屏时间需要使用浏览器性能 API（如 HTML5 的 Performance API）或开发者工具。以下是具体方法： a....</div></div></div></a><a class="pagination-related" href="/2025/09/03/mcp-%E4%BB%8B%E7%BB%8D/" title="MCP介绍"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">MCP介绍</div></div><div class="info-2"><div class="info-item-1">什么是 MCP？MCP（Model Context Protocol，模型上下文协议）是一套面向“AI 客户端 ↔ 外部工具&#x2F;数据源”的开放协议与约定，用于让大语言模型在安全、可控且可审计的前提下，访问文件系统、数据库、API、知识库等外部能力。它把这些外部能力抽象为「可发现、可声明、可调用」的服务，使得不同模型与不同工具之间能够以统一的方式进行集成。  为什么需要 MCP？ 统一接入：摆脱各家“插件&#x2F;工具”形态不一致的问题，用统一规范对接任意能力。 安全可控：以最小权限、可审计日志、可声明能力的方式暴露外部资源，便于企业合规。 复用与沉淀：工具以 Server 的形式复用在不同模型&#x2F;应用中，避免重复集成成本。 可观测：调用均通过协议层，便于记录、回放与问题定位。   核心概念 Client（客户端）：承载模型推理与交互的应用（如聊天应用、IDE 扩展、Agent 框架）。 Server（服务端）：对外声明一组可用的工具、资源与提示（prompts），并实现其逻辑。 Tools（工具）：可被调用的操作（例如读取文件、发送 HTTP...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/07/03/html-meta%E6%A0%87%E7%AD%BE/" title="html5中的meta标签"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-03</div><div class="info-item-2">html5中的meta标签</div></div><div class="info-2"><div class="info-item-1">html5中的meta标签 1. html5中的meta标签http-equiv属性有什么作用？在 HTML5 中，&lt;meta&gt; 标签的 http-equiv 属性用于提供 HTTP 头信息，允许开发者在 HTML 文档中模拟 HTTP 响应头的作用。它告诉浏览器如何处理页面或设置特定的行为。http-equiv 的值对应于 HTTP 响应头字段的名称，结合 content 属性一起使用，以指定具体的行为或参数。 主要作用http-equiv 属性通过模拟 HTTP 头字段，影响浏览器的行为或页面渲染方式。以下是常见的 http-equiv 值及其作用：  content-type指定文档的字符编码和 MIME 类型，确保浏览器正确解析页面内容。示例： 1&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;  作用：声明文档的 MIME 类型为 text/html，并指定字符编码为 UTF-8。 注意：HTML5 中推荐使用简化的...</div></div></div></a><a class="pagination-related" href="/2025/06/30/multiple-language/" title="多语言页面"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-30</div><div class="info-item-2">多语言页面</div></div><div class="info-2"><div class="info-item-1">如何实现多语言页面 在HTML中提供多语言页面需要结合内容管理、语言检测和合适的标记来确保用户能够以他们偏好的语言查看内容，同时保持SEO友好性和良好的用户体验。要实现一个多语言页面，可以从以下几个方面实现： 1. 语言检测 浏览器语言：通过HTTP请求头中的Accept-Language检测用户首选语言（如zh-CN、en-US）。 用户选择：提供语言切换器（如下拉菜单），将用户选择存储在cookie、localStorage或用户账户中。 地理位置：根据IP地址推测语言，但需谨慎使用，因准确性较低。  2....</div></div></div></a><a class="pagination-related" href="/2025/07/16/performance-paint-timing/" title="如何计算首屏和白屏时间"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-16</div><div class="info-item-2">如何计算首屏和白屏时间</div></div><div class="info-2"><div class="info-item-1">如何计算首屏和白屏时间 计算首屏时间和白屏时间是评估网页性能的重要指标，特别是在使用 HTML5 开发网站时。这些指标反映了用户感知的页面加载速度，直接影响用户体验和 SEO。以下是详细的定义、计算方法、优化建议，以及结合 HTML5 特性的实现方案。 1. 定义 白屏时间（White Screen Time）： 指从用户开始访问页面（浏览器发起请求）到页面开始显示内容（通常是 DOM 结构开始渲染）的时间。 用户看到的是“白屏”，即页面还未渲染出任何内容。 通常与解析 HTML 和加载关键 CSS 的时间相关。   首屏时间（First Screen Time）： 指从用户开始访问页面到页面首屏内容（通常是视口内可见内容）完全渲染的时间。 首屏内容可能包括文字、图片或关键组件。 涉及 HTML 解析、CSS 渲染、关键资源加载（如图片、字体）和 JavaScript 执行。    2. 计算方法计算白屏时间和首屏时间需要使用浏览器性能 API（如 HTML5 的 Performance API）或开发者工具。以下是具体方法： a....</div></div></div></a><a class="pagination-related" href="/2025/06/27/30days-plan/" title="30天前端复习计划"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-27</div><div class="info-item-2">30天前端复习计划</div></div><div class="info-2"><div class="info-item-1">本文旨在制定一个为期一个月（4周）的前端复习计划，涵盖核心知识点、实践练习和模拟面试，实现系统性地准备前端面试。  30天前端复习计划目标 掌握前端核心知识（HTML、CSS、JavaScript、框架等） 熟悉常见面试题和技术原理 提升代码能力和项目经验表达 模拟面试场景，增强临场应变能力  前提 每天投入约 3-4小时复习（可根据实际情况调整） 每周留出时间总结和查漏补缺   第1周：基础知识巩固目标：夯实HTML、CSS、JavaScript基础，理解浏览器原理和网络基础。  Day 1：HTML &amp; CSS 基础  复习语义化标签、Flex布局、Grid布局 常见问题：BFC、浮动清除、CSS选择器优先级 练习：手写一个响应式布局页面   Day 2：JavaScript 基础  复习变量提升、闭包、this指向、原型链 常见问题：事件循环、深浅拷贝实现 练习：实现Promise、debounce&#x2F;throttle函数   Day...</div></div></div></a><a class="pagination-related" href="/2025/10/23/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/" title="前端进阶核心要点"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-23</div><div class="info-item-2">前端进阶核心要点</div></div><div class="info-2"><div class="info-item-1">前端进阶核心要点 一、JavaScript深度进阶1. 执行上下文与作用域链：代码是如何运行的 调用栈、全局&#x2F;函数执行上下文，VO&#x2F;AO  （1）执行上下文是JavaScript代码执行时的环境，包含代码运行时需要的所有信息，分为全局执行上下文和函数执行上下文（另：eval()函数也会创建一个新的执行上下文）  （2）它有三个核心组成部分：变量对象（Virable Object：VO）：  全局上下文：GlobalObject（浏览器中为window） 函数上下文：Activation Object（AO），包含函数参数、局部变量、函数声明  作用域链：用于解析变量的引用链   this绑定：确定当前代码的执行主体（比如window或对象）    （3）它有三个生命周期：创建阶段：    初始化变量对象（变量声明提升、函数声明提升） 创建作用域链 绑定this值  执行阶段：    变量赋值，执行代码逻辑 销毁阶段：   ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Rowe</div><div class="author-info-description">罗威的森林</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Rowe83"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#h5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%94%B5%E5%AD%90%E7%AD%BE%E5%90%8D"><span class="toc-number">1.</span> <span class="toc-text">h5如何实现电子签名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">实现方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF"><span class="toc-number">2.1.</span> <span class="toc-text">核心技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.2.</span> <span class="toc-text">步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">代码示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">高级功能（可选）</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/23/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/" title="前端进阶核心要点">前端进阶核心要点</a><time datetime="2025-10-23T02:10:05.832Z" title="Created 2025-10-23 10:10:05">2025-10-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/03/mcp-%E4%BB%8B%E7%BB%8D/" title="MCP介绍">MCP介绍</a><time datetime="2025-09-03T08:59:02.556Z" title="Created 2025-09-03 16:59:02">2025-09-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/23/h5-signature/" title="h5电子签名">h5电子签名</a><time datetime="2025-07-23T09:36:20.399Z" title="Created 2025-07-23 17:36:20">2025-07-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/16/performance-paint-timing/" title="如何计算首屏和白屏时间">如何计算首屏和白屏时间</a><time datetime="2025-07-16T06:52:35.350Z" title="Created 2025-07-16 14:52:35">2025-07-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/03/html-meta%E6%A0%87%E7%AD%BE/" title="html5中的meta标签">html5中的meta标签</a><time datetime="2025-07-03T06:43:45.126Z" title="Created 2025-07-03 14:43:45">2025-07-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Rowe</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>